(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221bd2"],{cc40:function(e,r,l){"use strict";l.r(r);var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"app-container"},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名：",prop:"userName",required:""}},[r("el-input",{model:{value:e.form.userName,callback:function(r){e.$set(e.form,"userName",r)},expression:"form.userName"}})],1),r("el-form-item",{attrs:{label:"密码：",required:""}},[r("el-input",{model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"真实姓名：",prop:"realName",required:""}},[r("el-input",{model:{value:e.form.realName,callback:function(r){e.$set(e.form,"realName",r)},expression:"form.realName"}})],1),r("el-form-item",{attrs:{label:"年龄："}},[r("el-input",{model:{value:e.form.age,callback:function(r){e.$set(e.form,"age",r)},expression:"form.age"}})],1),r("el-form-item",{attrs:{label:"性别："}},[r("el-select",{attrs:{placeholder:"性别",clearable:""},model:{value:e.form.sex,callback:function(r){e.$set(e.form,"sex",r)},expression:"form.sex"}},e._l(e.sexEnum,(function(e){return r("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"出生日期："}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.birthDay,callback:function(r){e.$set(e.form,"birthDay",r)},expression:"form.birthDay"}})],1),r("el-form-item",{attrs:{label:"手机："}},[r("el-input",{model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"部门：",prop:"userLevel",required:""}},[r("el-select",{attrs:{placeholder:"部门"},model:{value:e.form.userLevel,callback:function(r){e.$set(e.form,"userLevel",r)},expression:"form.userLevel"}},e._l(e.levelEnum,(function(e){return r("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"状态：",required:""}},[r("el-select",{attrs:{placeholder:"状态"},model:{value:e.form.status,callback:function(r){e.$set(e.form,"status",r)},expression:"form.status"}},e._l(e.statusEnum,(function(e){return r("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),r("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)},s=[],a=(l("14d9"),l("2f62")),o=l("c24f"),m={data(){return{form:{id:null,userName:"",password:"",realName:"",role:1,status:1,age:"",sex:"",birthDay:null,phone:null,userLevel:null},formLoading:!1,rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],userLevel:[{required:!0,message:"请选择部门",trigger:"change"}]}}},created(){this.$store.dispatch("enumItem/initLevelEnum");let e=this.$route.query.id,r=this;e&&0!==parseInt(e)&&(r.formLoading=!0,o["a"].selectUser(e).then(e=>{r.form=e.response,r.formLoading=!1}))},methods:{submitForm(){let e=this;this.$refs.form.validate(r=>{if(!r)return!1;this.formLoading=!0,o["a"].createUser(this.form).then(r=>{1===r.code?(e.$message.success(r.message),e.delCurrentView(e).then(()=>{e.$router.push("/user/student/list")})):(e.$message.error(r.message),e.formLoading=!1)}).catch(r=>{e.formLoading=!1})})},resetForm(){let e=this.form.id;this.$refs["form"].resetFields(),this.form={id:null,userName:"",password:"",realName:"",role:1,status:1,age:"",sex:"",birthDay:null,phone:null,userLevel:null},this.form.id=e},...Object(a["b"])("tagsView",{delCurrentView:"delCurrentView"})},computed:{...Object(a["c"])("enumItem",["enumFormat"]),...Object(a["e"])("enumItem",{sexEnum:e=>e.user.sexEnum,roleEnum:e=>e.user.roleEnum,statusEnum:e=>e.user.statusEnum,levelEnum:e=>e.user.levelEnum})}},u=m,n=l("2877"),i=Object(n["a"])(u,t,s,!1,null,null,null);r["default"]=i.exports}}]);